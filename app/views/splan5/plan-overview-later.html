{% extends "layouts/main.html" %}

{% block pageTitle %}
  Content page template – {{ serviceName }} – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}
 
{% endblock %}

{% block content %}




  <div class="govuk-grid-row">
    
    
    <div class="govuk-grid-column-full">
      

      <!-- Header -->
      <div class="profile-banner-plan profileFIlters">
              
              
        <!--<h1 class="govuk-heading-m mb10">
          John Smith
        </h1>-->
       
        <ul class="govuk-list govuk-!-margin-bottom-0">
         <li class="govuk-body govuk-!-font-size-27" style="padding-top: 0px;">
             
         <strong>John Smith</strong>
           </li>
         <li style="padding-top: 8px;">CRN: Z804100</li>
          <li style="padding-top: 8px;">PNC: 2017/123400000H</li>
          <li style="padding-top: 8px;">Date of birth: 26 June 1978</li>
        </ul>

        <div style="display: flex; justify-content: space-between; align-items: center; padding-top: 40px;">
          <h1 class="govuk-heading-l" >
            John's plan
          </h1>
          
          <div class="govuk-button-group" >
            <form class="form" action="/splan5/create-goal" method="post">
              <button type="submit" class="govuk-button govuk-button--secondary" data-module="govuk-button ">
                Create goal
              </button>
          </form>
            <form class="form" action="/splan5/agree-plan" method="post">
            <button type="submit" class="govuk-button" data-module="govuk-button">
              Agree plan
            </button>
          </form>
          </div>
         
            
        </div>
      </div>
    
    
      <p>
        Add steps to each goal to agree this plan with John.
      </p>


        <nav class="moj-sub-navigation mb40" aria-label="Sub navigation">
  
          <ul class="moj-sub-navigation__list">
            <li class="moj-sub-navigation__item">
              <a class="moj-sub-navigation__link"  href="plan-overview">Goals for now (4)</a>
            </li>
        
            <li class="moj-sub-navigation__item">
              <a class="moj-sub-navigation__link" aria-current="page" href="#">Goals for later (2)</a>
            </li>
      
          </ul>
        
        </nav>


        <div id="summary-cards">

    

        <div class="govuk-summary-card" id="summary-card-1" draggable="true">
          
          <div class="govuk-summary-card__title-wrapper">
            <h2 class="govuk-summary-card__title">
              Increase awareness of own skills and impact on others
            </h2>
            
            <ul class="govuk-summary-card__actions">
              <li class="govuk-summary-card__action">
                <a class="govuk-link" href="#">Update goal<span class="govuk-visually-hidden"> of University of Gloucestershire (University of Gloucestershire)</span></a>
              </li>
              <li class="govuk-summary-card__action">
                <a class="govuk-link" href="#" style="padding-left:10px">Add or change steps<span class="govuk-visually-hidden"> from University of Gloucestershire (University of Gloucestershire)</span></a>
              </li>
              <li class="govuk-summary-card__action">
                <a class="govuk-link" href="#">Delete<span class="govuk-visually-hidden"> from University of Gloucestershire (University of Gloucestershire)</span></a>
              </li>
            </ul>
          </div>

          <div class="govuk-summary-card__content">
            <p class="govuk-body">Text about why John should achieve this goal.</p>
            
          </div>
        
          <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
          <div class="govuk-button-group" style="padding-left: 20px">
            
            
            <button type="button" class="govuk-button govuk-button--secondary move-down-btn" data-card-id="summary-card-1">
              Move goal down
            </button>
          </div>
        </div>

        <!-- card 1 end -->

       

        <div class="govuk-summary-card" id="summary-card-2" draggable="true">
          <div class="govuk-summary-card__title-wrapper">
            <h2 class="govuk-summary-card__title">
              Reduce drug use
            </h2>
            
            <ul class="govuk-summary-card__actions">
              <li class="govuk-summary-card__action">
                <a class="govuk-link" href="#" class="govuk-link govuk-link--no-visited-state">Update goal<span class="govuk-visually-hidden"> of University of Gloucestershire (University of Gloucestershire)</span></a>
              </li>
              <li class="govuk-summary-card__action">
                <a class="govuk-link" href="#" style="padding-left:10px" class="govuk-link govuk-link--no-visited-state">Add or change steps<span class="govuk-visually-hidden"> from University of Gloucestershire (University of Gloucestershire)</span></a>
              </li>
              <li class="govuk-summary-card__action">
                <a class="govuk-link" href="#" class="govuk-link govuk-link--no-visited-state">Delete<span class="govuk-visually-hidden" > from University of Gloucestershire (University of Gloucestershire)</span></a>
              </li>
            </ul>
          </div>

          <div class="govuk-summary-card__content">
            <p class="govuk-body">Text about why John should achieve this goal.</p>
            
          </div>
        
          <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
          <div class="govuk-button-group" style="padding-left: 20px">
            <button type="submit" class="govuk-button govuk-button--secondary move-up-btn" data-card-id="summary-card-2" >
              Move goal up
            </button>
            
          </div>
        </div>

<!-- card 2 end -->



       

        <!-- card 4 end -->
        
        </div>
      </div>

    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const summaryCards = document.querySelectorAll('.govuk-summary-card');

      summaryCards.forEach(function(card) {
        const moveUpBtn = card.querySelector('.move-up-btn');
        const moveDownBtn = card.querySelector('.move-down-btn');

        moveUpBtn.addEventListener('click', function() {
          moveCardUp(card);
        });

        moveDownBtn.addEventListener('click', function() {
          moveCardDown(card);
        });
      });

      function moveCardUp(card) {
        const prevCard = card.previousElementSibling;
        if (prevCard !== null) {
          card.parentNode.insertBefore(card, prevCard);
        }
      }

      function moveCardDown(card) {
        const nextCard = card.nextElementSibling;
        if (nextCard !== null) {
          card.parentNode.insertBefore(nextCard, card);
        }
      }
    });
  </script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const summaryCards = document.querySelectorAll('.govuk-summary-card');

    summaryCards.forEach(function(card) {
      card.addEventListener('dragstart', handleDragStart);
      card.addEventListener('dragover', handleDragOver);
      card.addEventListener('drop', handleDrop);
    });

    function handleDragStart(event) {
      event.dataTransfer.setData('text/plain', event.target.id);
    }

    function handleDragOver(event) {
      event.preventDefault();
      event.dataTransfer.dropEffect = 'move';
    }

    function handleDrop(event) {
      event.preventDefault();
      const draggedId = event.dataTransfer.getData('text/plain');
      const draggedCard = document.getElementById(draggedId);
      const dropZone = event.currentTarget;
      if (dropZone !== draggedCard) {
        dropZone.parentNode.insertBefore(draggedCard, dropZone);
      }
    }
  });
</script>

{% endblock %}
